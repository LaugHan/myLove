<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>小短腿❤傻孩子</title>
    <script type="text/javascript" src="https://cdn.staticfile.org/jquery/1.12.4/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://www.layuicdn.com/layui/css/layui.css" />
    <script src="https://www.layuicdn.com/layui/layui.js"></script>
    <script type="text/javascript" src="canvas_bg.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" /> </head>
<body>
    <canvas id="c"></canvas>

    <div class="main-container">
        
        <header class="header">
            <h1>小短腿 ❤ 傻孩子</h1>
            <p>我们的爱情时光机</p>
        </header>
        
        <div id="love-timer" class="love-timer card">
            <h2>我们已经相爱了</h2>
            <div id="time-display"></div>
        </div>

        <div class="card photo-entry">
            <h2>我们的照片墙</h2>
            <p>这里珍藏着我们的每一个甜蜜瞬间。</p>
            <a href="gallery.html" class="button">点击查看</a>
        </div>

    </div>

    <div class="music-player">
        <button class="musicBtn">
            <i class="layui-icon layui-icon-headset"></i>
        </button>
        <audio autoplay="autoplay" loop class="audio1">
            <source src="music/yuai.mp3" type="audio/mpeg">
        </audio>
    </div>

    <script>
    $(function() {
        // --- 恋爱计时器逻辑 ---
        const startDate = "2019/11/24 00:00:00"; // 你们的纪念日

        function updateLoveTime() {
            let startTime = new Date(startDate).getTime();
            let currentTime = new Date().getTime();
            let difference = currentTime - startTime;

            let days = Math.floor(difference / (1000 * 60 * 60 * 24));
            let hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            let minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((difference % (1000 * 60)) / 1000);

            $('#time-display').html(
                `<span>${days}</span> 天 <span>${hours}</span> 小时 <span>${minutes}</span> 分 <span>${seconds}</span> 秒`
            );
        }
        setInterval(updateLoveTime, 1000);
        updateLoveTime(); // 立即执行一次

        // --- 音乐播放器逻辑 ---
        $(".musicBtn").on("click", function() {
            let audio = $(".audio1").get(0);
            if (audio.paused) {
                audio.play();
                $(this).find('i').addClass("layui-anim-rotate layui-anim-loop");
            } else {
                audio.pause();
                $(this).find('i').removeClass("layui-anim-rotate layui-anim-loop");
            }
        });
        // 自动播放可能被浏览器阻止，让图标一开始就旋转
        $(".musicBtn i").addClass("layui-anim-rotate layui-anim-loop");

    });
    </script>
</body>
</html>